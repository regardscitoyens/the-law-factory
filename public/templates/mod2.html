<div class="row">
  <div class="cont-width offset-width" style="background-color: white;">
    <nav id="filter-nav" class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
      <ul id="menu-left" class="nav navbar-nav">
	<li class="active" id="menu-back"><a ng-href="articles.html?loi={{loi}}">&lt; Voir les articles du texte</a></li>
	<li id="menu-display" class="dropdown">
          <span id="menu-value" class="dropdown-toggle" data-toggle="dropdown">Vue <span class="selectedchoice">par articles</span> <b class="caret"></b></span>
	  <ul class="dropdown-menu" role="menu" id="display_menu">
	    <li><a id="dm-draw" class="chosen" onclick="redraw(false)">par articles</a></li>
	    <li><a id="dm-merged" onclick="redraw(true)">groupée</a></li>
	  </ul>
        </li>
	<li id="menu-order" class="dropdown">
	  <span class="dropdown-toggle" data-toggle="dropdown">Trié par <span class="selectedchoice">sort final</span> <b class="caret"></b></span>
	  <ul class="dropdown-menu" role="menu" id="display_order">
	    <li><a id="do-stat" class="chosen" onclick="sortByStat()">sort final</a></li>
	    <li><a id="do-party" onclick="sortByParty()">groupe politique</a></li>
	  </ul>
        </li>
      </ul>
      <ul class="nav navbar-nav" id="menu-right">
      <li id="menu-zoom">&nbsp;</li>
      <li id="menu-tutorial" ng-click="toggleTutorial()"><span title="Voir le tutoriel" data-toggle="tooltip" data-placement="left"><a>?</a></span></li>
      </ul>
    </div>
    </nav>
  </div>
</div>

<div class="row">
  <div class="col-md-12 viz-container">
     <div class="scrolling">
        <div class="labels-sc">
          <div class="stages shift-steps">
              <div stepsbar></div>
          </div>
        </div>

        <div class="main-sc">
          <div id="viz">
            <div class="sujet" ng-repeat="sujet in data.sujets">
              <div class="titre" onclick="thelawfactory.amendements.focus(this);">{{ sujet.titre }}</div>
              <div class="amendements">
                <div class="amendement"
                  style="background-color: {{ adjustColor(amdt.color).toString() }}; background-image: url({{ amdt.sort_image }});"
                  onclick="thelawfactory.amendements.select(this, {{ amdt }});"
                  ng-repeat="amdt in sujet.amdts_groupe">
                  <div class="amendement-tooltip">
                    <div class="numero">Amendement {{ amdt.numero }}</div>
                    <div class="groupe">{{ data.groupes[amdt.groupe].nom }}</div>
                    <div class="sort">Sort: {{ amdt.sort }}</div>
                    <div class="date">{{ amdt.date }}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="legend">
          LÉGENDE
          <div class="colors">
            <div class="leg-item" ng-repeat="(key, groupe) in data.legende.groupes">
              <div class="leg-value" style="background-color: {{ adjustColor(groupe.color).toString() }};"></div>
              <div class="leg-key">{{ key }}</div>
            </div>
          </div>
          <div class="others">
            <div class="leg-item" ng-repeat="groupe in [data.groupes.Gouvernement]">
              <div class="leg-value" style="background-color: {{ adjustColor(groupe.color).toString() }};"></div>
              <div class="leg-key">Gouvernement</div>
            </div>
            <div class="leg-item"></div>
            <div class="leg-item" ng-repeat="(sort, image) in data.legende.sorts">
              <div class="leg-value leg-sort" style="background-image: url({{ image }});"></div>
              <div class="leg-key">{{ sort }}</div>
            </div>
          </div>
        </div>
        <div class="clear"></div>
      </div>

      <div class="text">

        <div id="readMode">
          <div ng-hide="read" class="interactive readMode" ng-click="readmode()" data-toggle="tooltip" title="Déployer le panneau" data-placement="bottom" data-original-title="Déployer le panneau"><span class="glyphicon glyphicon-chevron-left"></span></div>
	      <div ng-show="read" class="interactive readMode" ng-click="viewmode()" data-toggle="tooltip" title="Replier le panneau" data-placement="bottom" data-original-title="Déployer le panneau"><span class="glyphicon glyphicon-chevron-right"></div>
        </div>

        <h4 id="text-title">AMENDEMENTS</h4>
        <div id="load_amd"></div>
        <div class="text-container"></div>
      </div>

    </div>

  </div>
</div>
<script type="text/javascript" src="js/modules/amendements.js"></script>
